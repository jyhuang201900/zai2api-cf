const _0x0_0x597ca4=_0x0_0x4d2a;(function(_0x88d25f,_0x3b16f9){const _0x2ad523=_0x0_0x4d2a,_0x5dfcfa=_0x88d25f();while(!![]){try{const _0x3a82c3=parseInt(_0x2ad523(0x224))/0x1*(-parseInt(_0x2ad523(0x193))/0x2)+-parseInt(_0x2ad523(0x20f))/0x3+parseInt(_0x2ad523(0x1a3))/0x4*(-parseInt(_0x2ad523(0x19c))/0x5)+-parseInt(_0x2ad523(0x245))/0x6+parseInt(_0x2ad523(0x176))/0x7*(parseInt(_0x2ad523(0x1e3))/0x8)+-parseInt(_0x2ad523(0x19d))/0x9*(parseInt(_0x2ad523(0x1b5))/0xa)+-parseInt(_0x2ad523(0x19b))/0xb*(-parseInt(_0x2ad523(0x191))/0xc);if(_0x3a82c3===_0x3b16f9)break;else _0x5dfcfa['push'](_0x5dfcfa['shift']());}catch(_0x17bbe6){_0x5dfcfa['push'](_0x5dfcfa['shift']());}}}(_0x0_0x913e,0x938ad));const CONFIG={'SERVICE_NAME':_0x0_0x597ca4(0x172),'VERSION':_0x0_0x597ca4(0x1bf),'ZAI_API':_0x0_0x597ca4(0x233),'ZAI_AUTH':_0x0_0x597ca4(0x236),'ZAI_HOME':'https://chat.z.ai','SECRET':'key-@@@@)))()((9))-xxxx&&&%%%%%','MODELS':{'GLM-4.6':{'name':_0x0_0x597ca4(0x211),'search':![]},'GLM-4.6-SEARCH':{'name':'GLM-4-6-API-V1','search':!![]}},'USER_AGENTS':[_0x0_0x597ca4(0x1c3),_0x0_0x597ca4(0x204),_0x0_0x597ca4(0x165),_0x0_0x597ca4(0x219)],'RESOLUTIONS':[{'w':0x780,'h':0x438,'vw':0x58c,'vh':0x384,'r':0x1},{'w':0x600,'h':0x360,'vw':0x40c,'vh':0x2d2,'r':1.25},{'w':0xa00,'h':0x5a0,'vw':0x780,'vh':0x4b0,'r':0x1},{'w':0x556,'h':0x300,'vw':0x3e8,'vh':0x28a,'r':0x1}],'DEPTHS':['24','30','32'],'TOUCHES':['0','5','10'],'ZONES':[{'n':_0x0_0x597ca4(0x1bd),'o':-0x1e0},{'n':_0x0_0x597ca4(0x1db),'o':-0x1e0},{'n':_0x0_0x597ca4(0x249),'o':-0x21c}],'FE_TTL':0x1b7740};let feCache='',feTime=0x0,feFetch=null;function uuid(){const _0x181d9f=_0x0_0x597ca4,_0x3b5c28={'cFIkN':function(_0x4229d5,_0x520b9a){return _0x4229d5===_0x520b9a;},'PLwda':_0x181d9f(0x247)};return _0x3b5c28[_0x181d9f(0x1b1)][_0x181d9f(0x181)](/[xy]/g,_0x50c988=>{const _0x51b7dc=_0x181d9f,_0x33ce7f=Math[_0x51b7dc(0x22e)]()*0x10|0x0;return(_0x3b5c28[_0x51b7dc(0x230)](_0x50c988,'x')?_0x33ce7f:_0x33ce7f&0x3|0x8)[_0x51b7dc(0x187)](0x10);});}function pick(_0x309c15){const _0x2d89b4=_0x0_0x597ca4;return _0x309c15[Math[_0x2d89b4(0x22e)]()*_0x309c15[_0x2d89b4(0x22d)]|0x0];}function getOS(_0x4142c9){const _0x31e1b9=_0x0_0x597ca4,_0xeb9d0b={'SwcLt':'Windows','UcUSL':_0x31e1b9(0x1aa),'ahYOK':_0x31e1b9(0x1d1)};return _0x4142c9[_0x31e1b9(0x1ce)](_0xeb9d0b[_0x31e1b9(0x1d0)])?_0xeb9d0b[_0x31e1b9(0x1d0)]:_0x4142c9[_0x31e1b9(0x1ce)](_0x31e1b9(0x1de))?_0xeb9d0b['UcUSL']:_0x4142c9['includes'](_0xeb9d0b[_0x31e1b9(0x1ae)])?_0x31e1b9(0x1d1):_0x31e1b9(0x20c);}function getPlatform(_0x2839ff){const _0x3fe052=_0x0_0x597ca4,_0x2fec19={'SOUaN':_0x3fe052(0x1de),'fjtah':_0x3fe052(0x1d1),'mtLNQ':_0x3fe052(0x1fb),'vgDqW':_0x3fe052(0x1e4)};return _0x2839ff[_0x3fe052(0x1ce)]('Windows')?'\x22Windows\x22':_0x2839ff[_0x3fe052(0x1ce)](_0x2fec19[_0x3fe052(0x232)])?_0x3fe052(0x20d):_0x2839ff[_0x3fe052(0x1ce)](_0x2fec19['fjtah'])?_0x2fec19['mtLNQ']:_0x2fec19[_0x3fe052(0x210)];}function getChromeV(_0x26dff6){const _0x173e14=_0x0_0x597ca4,_0x132d13=_0x26dff6[_0x173e14(0x235)](/Chrome\/(\d+)/);return _0x132d13?_0x132d13[0x1]:_0x173e14(0x215);}async function hmac(_0x20d039,_0x12ff4c){const _0x4eab37=_0x0_0x597ca4,_0x444a23={'gjVRB':_0x4eab37(0x20e),'foTYq':_0x4eab37(0x1b3)},_0x5f57a6=new TextEncoder(),_0x443f8f=await crypto[_0x4eab37(0x23f)][_0x4eab37(0x21a)](_0x4eab37(0x19a),_0x5f57a6[_0x4eab37(0x1c4)](_0x12ff4c),{'name':'HMAC','hash':_0x444a23[_0x4eab37(0x243)]},![],[_0x444a23[_0x4eab37(0x20a)]]),_0x7c2f94=await crypto[_0x4eab37(0x23f)][_0x4eab37(0x1b3)](_0x4eab37(0x1f1),_0x443f8f,_0x5f57a6['encode'](_0x20d039));return Array[_0x4eab37(0x216)](new Uint8Array(_0x7c2f94))[_0x4eab37(0x239)](_0x16b382=>_0x16b382[_0x4eab37(0x187)](0x10)[_0x4eab37(0x22a)](0x2,'0'))['join']('');}async function sign(_0x1cc96a,_0x33b616,_0x57b834){const _0x20f012=_0x0_0x597ca4,_0x58e497={'iCVFx':function(_0xdc8ed4,_0x231a4c){return _0xdc8ed4(_0x231a4c);},'tvrfL':function(_0x286ae0,_0x2cae5c){return _0x286ae0/_0x2cae5c;},'BMTvd':function(_0x522e1e,_0x436c81){return _0x522e1e*_0x436c81;},'bbHgc':function(_0x2a4dec,_0x2b4fe6,_0x332eaf){return _0x2a4dec(_0x2b4fe6,_0x332eaf);}},_0x5102cf=new TextEncoder(),_0x6e0afc=_0x58e497[_0x20f012(0x171)](btoa,String['fromCharCode'](..._0x5102cf[_0x20f012(0x1c4)](_0x33b616))),_0x490173=_0x1cc96a+'|'+_0x6e0afc+'|'+_0x57b834,_0x5f2644=Math['floor'](_0x58e497['tvrfL'](_0x57b834,_0x58e497[_0x20f012(0x1ac)](_0x58e497[_0x20f012(0x1ac)](0x5,0x3c),0x3e8))),_0x23225e=await _0x58e497[_0x20f012(0x1f2)](hmac,_0x5f2644[_0x20f012(0x187)](),CONFIG[_0x20f012(0x1e7)]),_0x1be719=await _0x58e497[_0x20f012(0x1f2)](hmac,_0x490173,_0x23225e);return{'sig':_0x1be719,'ts':_0x57b834[_0x20f012(0x187)]()};}function _0x0_0x4d2a(_0x2e2e28,_0x2fccca){const _0x913e5d=_0x0_0x913e();return _0x0_0x4d2a=function(_0x4d2a88,_0x136056){_0x4d2a88=_0x4d2a88-0x161;let _0x1aa96a=_0x913e5d[_0x4d2a88];if(_0x0_0x4d2a['EiByko']===undefined){var _0x5b8343=function(_0x33007b){const _0xdd5304='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x11a20f='',_0x539a7d='';for(let _0x2f38c1=0x0,_0xeef118,_0x2915c1,_0x526512=0x0;_0x2915c1=_0x33007b['charAt'](_0x526512++);~_0x2915c1&&(_0xeef118=_0x2f38c1%0x4?_0xeef118*0x40+_0x2915c1:_0x2915c1,_0x2f38c1++%0x4)?_0x11a20f+=String['fromCharCode'](0xff&_0xeef118>>(-0x2*_0x2f38c1&0x6)):0x0){_0x2915c1=_0xdd5304['indexOf'](_0x2915c1);}for(let _0x4c9689=0x0,_0x4694a5=_0x11a20f['length'];_0x4c9689<_0x4694a5;_0x4c9689++){_0x539a7d+='%'+('00'+_0x11a20f['charCodeAt'](_0x4c9689)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x539a7d);};_0x0_0x4d2a['sXmjAn']=_0x5b8343,_0x2e2e28=arguments,_0x0_0x4d2a['EiByko']=!![];}const _0x1d3175=_0x913e5d[0x0],_0xa8f068=_0x4d2a88+_0x1d3175,_0x4deb3b=_0x2e2e28[_0xa8f068];return!_0x4deb3b?(_0x1aa96a=_0x0_0x4d2a['sXmjAn'](_0x1aa96a),_0x2e2e28[_0xa8f068]=_0x1aa96a):_0x1aa96a=_0x4deb3b,_0x1aa96a;},_0x0_0x4d2a(_0x2e2e28,_0x2fccca);}function getUID(_0x5f4bc5){const _0x56e277=_0x0_0x597ca4,_0x598b32={'bNpTs':_0x56e277(0x1ca)};if(!_0x5f4bc5)return _0x56e277(0x1ca);try{const _0x2b5d41=JSON[_0x56e277(0x205)](atob(_0x5f4bc5[_0x56e277(0x21c)]('.')[0x1]));return _0x2b5d41['id']||_0x2b5d41[_0x56e277(0x184)]||_0x2b5d41[_0x56e277(0x19f)]||_0x2b5d41[_0x56e277(0x199)]||_0x598b32[_0x56e277(0x1d9)];}catch{return _0x598b32[_0x56e277(0x1d9)];}}async function getFE(){const _0x18848e=_0x0_0x597ca4,_0x4efad4={'Mroat':function(_0x747bc7,_0x13b42b){return _0x747bc7(_0x13b42b);},'TjDue':function(_0x1fe5ac,_0x570fb3){return _0x1fe5ac||_0x570fb3;},'fYhdj':function(_0x5d6301,_0x585e0b){return _0x5d6301<_0x585e0b;}},_0x59b2bf=Date['now']();if(feCache&&_0x4efad4['fYhdj'](_0x59b2bf-feTime,CONFIG[_0x18848e(0x228)]))return feCache;if(feFetch)try{return await feFetch;}catch{return feCache||_0x18848e(0x185);}return feFetch=((async()=>{const _0x2aba5b=_0x18848e;try{const _0xb155fe=await fetch(CONFIG['ZAI_HOME'],{'headers':{'User-Agent':_0x4efad4[_0x2aba5b(0x1d4)](pick,CONFIG[_0x2aba5b(0x231)])},'signal':AbortSignal[_0x2aba5b(0x1dd)](0x1f40)});if(!_0xb155fe['ok'])return feCache||_0x2aba5b(0x185);const _0x58c7a8=await _0xb155fe[_0x2aba5b(0x1a6)](),_0x1a3ec3=_0x58c7a8['match'](/prod-fe-\d+\.\d+\.\d+/g);if(_0x1a3ec3&&_0x1a3ec3[_0x2aba5b(0x22d)]){const _0x36c07c=_0x1a3ec3[_0x2aba5b(0x1d7)]()[_0x2aba5b(0x169)]();return feCache=_0x36c07c,feTime=_0x59b2bf,_0x36c07c;}return feCache||'prod-fe-1.0.128';}catch{return _0x4efad4[_0x2aba5b(0x170)](feCache,_0x2aba5b(0x185));}finally{feFetch=null;}})()),await feFetch;}async function getToken(){const _0x69f1a7=_0x0_0x597ca4,_0x4e701e={'gtZuD':function(_0x4346d9,_0x459021){return _0x4346d9<_0x459021;},'DqlLI':function(_0x8d5b9b,_0x5298a8){return _0x8d5b9b(_0x5298a8);},'bTIlT':function(_0x431ba8){return _0x431ba8();},'JHPCu':_0x69f1a7(0x17c),'QLoWq':_0x69f1a7(0x1f5),'eHsuh':_0x69f1a7(0x241),'Klzuz':function(_0x1a9e45,_0xb8da9a,_0x71d62d){return _0x1a9e45(_0xb8da9a,_0x71d62d);},'yACWh':function(_0x352580,_0x4edcc8){return _0x352580<_0x4edcc8;},'CBxwX':function(_0x3ea35b,_0x481e87){return _0x3ea35b<_0x481e87;}},_0xf320d=0x3,_0x35e187=[0x3e8,0x7d0,0xbb8];for(let _0x3ed705=0x0;_0x4e701e[_0x69f1a7(0x195)](_0x3ed705,_0xf320d);_0x3ed705++){try{const _0x3f28d1=_0x4e701e[_0x69f1a7(0x1a4)](pick,CONFIG[_0x69f1a7(0x231)]),_0x43d945=await _0x4e701e[_0x69f1a7(0x1da)](getFE),_0x582a09=_0x4e701e[_0x69f1a7(0x1a4)](getChromeV,_0x3f28d1),_0x4a11cb=getPlatform(_0x3f28d1),_0x3ff79a={'Content-Type':_0x4e701e[_0x69f1a7(0x220)],'User-Agent':_0x3f28d1,'Origin':_0x69f1a7(0x23c),'Referer':_0x4e701e[_0x69f1a7(0x18e)],'X-FE-Version':_0x43d945,'Accept-Language':_0x4e701e[_0x69f1a7(0x18b)],'sec-ch-ua':_0x69f1a7(0x1f8)+_0x582a09+_0x69f1a7(0x180)+_0x582a09+'\x22,\x22Not_A\x20Brand\x22;v=\x2299\x22','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x4a11cb},_0x358a70=new AbortController(),_0x4f381d=_0x4e701e[_0x69f1a7(0x246)](setTimeout,()=>_0x358a70[_0x69f1a7(0x1e9)](),0x2ee0),_0x4a7fb6=await _0x4e701e[_0x69f1a7(0x246)](fetch,CONFIG['ZAI_AUTH'],{'method':'GET','headers':_0x3ff79a,'signal':_0x358a70[_0x69f1a7(0x173)]});clearTimeout(_0x4f381d);if(_0x4a7fb6['ok']){const _0x498861=await _0x4a7fb6['json']();if(_0x498861[_0x69f1a7(0x1c1)])return _0x498861[_0x69f1a7(0x1c1)];}else{if(_0x4a7fb6[_0x69f1a7(0x183)]===0x195){if(_0x4e701e[_0x69f1a7(0x1b7)](_0x3ed705,_0xf320d-0x1)){await new Promise(_0x264d26=>setTimeout(_0x264d26,_0x35e187[_0x3ed705]));continue;}break;}}}catch(_0x37c78b){if(_0x4e701e[_0x69f1a7(0x178)](_0x3ed705,_0xf320d-0x1))await new Promise(_0x5f351f=>setTimeout(_0x5f351f,_0x35e187[_0x3ed705]));}}return'';}function buildParams(_0x5782c5,_0x19dab3,_0x15922c,_0x13b38a,_0x275899,_0x236006,_0x523923,_0x291179,_0x2e86a1,_0x2c5ac2){const _0x256bd1=_0x0_0x597ca4,_0x2ea2a6={'EZQaZ':function(_0x481480,_0x220eac){return _0x481480(_0x220eac);},'PiWFk':function(_0x23ceca,_0x2f20ad){return _0x23ceca!==_0x2f20ad;},'eMbuQ':'true','nrHZh':'0.0.1','QBwdW':_0x256bd1(0x1c7),'DxQUy':'https:'},_0x8c371d=new Date(),_0x43550e=_0x2ea2a6[_0x256bd1(0x16c)](getOS,_0x236006),_0x1451cd=_0x2ea2a6[_0x256bd1(0x18f)](_0x2e86a1,'0')?_0x2ea2a6['eMbuQ']:'false';return{'timestamp':_0x5782c5[_0x256bd1(0x187)](),'requestId':_0x19dab3,'user_id':_0x15922c,'token':_0x13b38a,'version':_0x2ea2a6[_0x256bd1(0x222)],'platform':_0x2ea2a6[_0x256bd1(0x16b)],'user_agent':_0x236006,'language':_0x256bd1(0x1cf),'languages':_0x256bd1(0x182),'timezone':_0x2c5ac2['n'],'cookie_enabled':_0x256bd1(0x1c8),'screen_width':_0x523923['w'][_0x256bd1(0x187)](),'screen_height':_0x523923['h'][_0x256bd1(0x187)](),'screen_resolution':_0x523923['w']+'x'+_0x523923['h'],'viewport_width':_0x523923['vw']['toString'](),'viewport_height':_0x523923['vh']['toString'](),'viewport_size':_0x523923['vw']+'x'+_0x523923['vh'],'color_depth':_0x291179,'pixel_ratio':_0x523923['r'][_0x256bd1(0x187)](),'current_url':_0x256bd1(0x18a)+_0x275899,'pathname':_0x256bd1(0x208)+_0x275899,'search':'','hash':'','host':_0x256bd1(0x1b9),'hostname':_0x256bd1(0x1b9),'protocol':_0x2ea2a6['DxQUy'],'referrer':'','title':'Z.ai\x20Chat','timezone_offset':_0x2c5ac2['o'][_0x256bd1(0x187)](),'local_time':_0x8c371d[_0x256bd1(0x16e)]()['slice'](0x0,0x17)+'Z','utc_time':_0x8c371d['toUTCString'](),'is_mobile':_0x256bd1(0x1a9),'is_touch':_0x1451cd,'max_touch_points':_0x2e86a1,'browser_name':_0x256bd1(0x1fa),'os_name':_0x43550e,'signature_timestamp':_0x5782c5['toString']()};}function _0x0_0x913e(){const _0x284ed1=['qxnPys9tAgfUz2HHAq','Cw9iD3m','os4WlJa','vuTuBxi','Dg9Rzw4','DhLWzq','tw96AwXSys81lJaGkfDPBMrVD3mGtLqGmtaUmdSGv2LUnJq7ihG2ncKGqxbWBgvxzwjlAxqVntm3lJm2icHlsfrntcWGBgLRzsbhzwnRBYKGq2HYB21LlZeZos4WlJaUmcbtywzHCMKVntm3lJm2','zw5JB2rL','zgf0ytOGw0rptKvDcGO','BwvZC2fNzxm','D2vI','Dhj1zq','v2TTD0y','z3vLC3q','zuvnC24','u2f0DxjKyxK','r0vulfbpu1qSt1busu9ouW','Aw5JBhvKzxm','EMGTq04','u3DJthq','tgLUDxG','CMvHza','zMLSDgvY','txjVyxq','y2HHDdPJB21WBgv0Aw9U','AxnbCNjHEq','C29YDa','rNjPzgf5','yK5Wvhm','yLrjBfq','qxnPys9iB25Nx0TVBMC','zeDrCNa','DgLTzw91Da','twfJ','q29UDgvUDc1uExbLlef1DgHVCML6yxrPB24','B2j6Cvi','l2HLywX0Aa','u0vsvKLdrv9oqu1f','mtzcBwztu24','iLDPBMrVD3mI','C3rYzwfTx2vYCM9Y','vhvLC2rHEq','u0vduKvu','y2HHDc5JB21WBgv0Aw9UlMnODw5R','ywjVCNq','ue9tva','Dvvsz2m','z2v0rgf5','y2HHDgnTCgWT','C3rYzwfT','DKvYAvK','C3rYAw5NAwz5','se1bqW','yMjiz2m','qMvHCMvYia','A2v5CW','Ahr0Chm6lY9JAgf0lNOUywKV','zhjMrgu','Dg9mB2nHBgvtDhjPBMC','iKnOCM9TAxvTiJT2psi','zgvSDgfFy29UDgvUDa','q2HYB21L','iKXPBNv4iG','AuTsvee','zgvJB2rL','z2XMBeq','BM8Ty2fJAgu','vxzwz1q','wwPIv1m','yw5ZD2vY','AeD1AMW','tw96AwXSys81lJaGkfDPBMrVD3mGtLqGmtaUmdSGv2LUnJq7ihG2ncKGqxbWBgvxzwjlAxqVntm3lJm2icHlsfrntcWGBgLRzsbhzwnRBYKGq2HYB21LlZe0mI4WlJaUmcbtywzHCMKVntm3lJm2','CgfYC2u','t1jfCve','BMfTzq','l2mV','z2v0v3jPDgvY','zM9uwxe','CLvyug4','v2LUzg93CW','iM1Hy09tiG','u0Hblti1nG','nZm4ote4svzoCgHm','DMDeCvC','r0XnltqTnI1bueKTvJe','yxbPx2vYCM9Y','Dg9Rzw5FzxjYB3i','rurWsMW','mtm5','zNjVBq','A2vLCc1HBgL2zq','v1f0D04','tw96AwXSys81lJaGkfGXmtSGtgLUDxGGEdG2xZy0ksbbChbSzvDLyKTPDc81mZCUmZyGkeTive1mlcbSAwTLieDLy2TVksbdAhjVBwuVmtm5lJaUmc4WifnHzMfYAs81mZCUmZy','Aw1WB3j0s2v5','B21hzKC','C3bSAxq','C3rHCNrZv2L0Aa','uKvtt0XvveLptLm','uNLtzLG','sKHqq3u','lhrPBwvZDgfTCcW','BNjiwMG','r3vLC3qT','mtCZntK5r01KtMDw','Cgf0Ag5HBwu','v2vKBMvZzgf5','y2XVC2u','rKvFvfrm','wKTNu1C','CgfKu3rHCNq','BwvZC2fNzq','zgf0ytOG','BgvUz3rO','CMfUzg9T','vw5RBM93BG','y0zjA04','vvnfuL9br0vovfm','u09vyu4','Ahr0Chm6lY9JAgf0lNOUywKVyxbPl3yYl2nOyxqVy29TCgXLDgLVBNm','zMj0ENO','Bwf0y2G','Ahr0Chm6lY9JAgf0lNOUywKVyxbPl3yXl2f1DgHZlW','tu9eruXt','yxnZAxn0yw50','BwfW','vKvsu0LptG','Aw1ruxq','Ahr0Chm6lY9JAgf0lNOUywK','vg9Rzw7OJRFLJ5BLPlhOTku','y0POvue','C3vIDgXL','wK9orvm','EMGTq04SEMG7Ct0WlJK','zMXVB3i','z2PwuKi','yM9KEq','nZiXmZGWmeXcr2vvEa','s2X6DxO','EhH4EhH4EhGTEhH4Ec00EhH4lxL4EhGTEhH4EhH4EhH4EhH4','zgf0ytO','qxnPys9uB2T5BW','AM9PBG','sNv0Dhm','Dg9mB2nHBgveyxrLu3rYAw5N','Ag9fvKW','tw96AwXSys81lJaGke1Hy2LUDg9ZAdSGsw50zwWGtwfJie9tifGGmtbFmtvFnYKGqxbWBgvxzwjlAxqVntm3lJm2icHlsfrntcWGBgLRzsbhzwnRBYKGq2HYB21LlZeZos4WlJaUmcbtywzHCMKVntm3lJm2','vgH1CNnKyxK','Bw9KzwW','C3rYAw5N','Cg9W','rKjgBKm','uuj3zfC','rvPryvO','yxbWBgLJyxrPB24VANnVBIWGDgv4Dc9LDMvUDc1ZDhjLyw0','Dg9ju09tDhjPBMC','u1ncze0','vgPeDwu','AunwrNG','wI5bssbbBM9UEw1VDxmGuhjVEhK','C2LNBMfS','CMvXDwvZDeLKla','tg5OCuu','nde4ntiWouDoAufyyW','DxnLCG','q0j4D1G','y2HHDc5JB21WBgv0Aw9U','vvjiB28','C2vHCMnO','yxbWBgLJyxrPB24VANnVBG','C2XPy2u','C3rVCa','revqveHt','iIWIr29Vz2XLienOCM9Tzsi7DJ0I','CMvWBgfJzq','EMGTq04SEMG','C3rHDhvZ','DxnLCL9Pza','ChjVzc1Mzs0XlJaUmti4','Bwv0Ag9K','Dg9tDhjPBMC','ANnVBG','u3vUzgf5','Ahr0Chm6lY9JAgf0lNOUywKVyY8','zuHZDwG','D3jPDgu','z2v0uMvHzgvY','uuXVv3e','ugLxrMS','vKHMv28','mZmWnZyWotjdqwztCNa','EI5HAq','ogvxD0nzDq','zgf0yq','z3rADuq','DxnHz2u','Egvms1K','w0rptKvD','C3vI','CMf3','mtfnrxnqvvO','mJaWnuvruLzvAa','mJD4DMf1rwK','AeHkzuy','DwLK','lhvZzxjFAwqS','ChjVBxb0','DxjS','nZuWofHStuHjyG','rhfSteK','wKfjx0fqsq','Dgv4Da','sgvSBg8','r0XnltqUnG','zMfSC2u','BwfJt1m','y29UDgvUDa','qK1uDMq','DhjPBq','ywHzt0S','t1bRC3q','qK5jvNy','ueX3zge','q2Ddwwu','C2LNBG','t1busu9ouW','mtuWnZaXmg9gtg9MAq','BM93','Eufdv2G','CgHHC2u','y2HHDc56lMfP','u3rYzwfTigvYCM9Y','5lIk5RI46zsz6k+VoIa','l3yXl21VzgvSCW'];_0x0_0x913e=function(){return _0x284ed1;};return _0x0_0x913e();}async function transform(_0x1f93bd,_0x570569){const _0x1a6d4b=_0x0_0x597ca4,_0x585b54={'imQQt':function(_0x1646b6,_0x39021d){return _0x1646b6(_0x39021d);},'UvVgT':function(_0x3fb442){return _0x3fb442();},'OREqQ':function(_0x1b5f36,_0x4061ba){return _0x1b5f36(_0x4061ba);},'WQtwN':_0x1a6d4b(0x1a8),'rUXPn':function(_0x1191ed,_0x4d6e18){return _0x1191ed-_0x4d6e18;},'hGujl':function(_0x4136e3,_0x22314e){return _0x4136e3===_0x22314e;},'FBFnC':_0x1a6d4b(0x1a7),'URHoo':function(_0x1e7588,_0x5727f8,_0x4e7b74,_0x352305){return _0x1e7588(_0x5727f8,_0x4e7b74,_0x352305);},'VNUBz':function(_0xead6d){return _0xead6d();},'YjbWS':_0x1a6d4b(0x16d),'OPkst':_0x1a6d4b(0x23c),'xeLKY':_0x1a6d4b(0x241),'NJTKu':'Monday','Jutts':_0x1a6d4b(0x1e6),'EDpJl':_0x1a6d4b(0x226),'UKTmr':_0x1a6d4b(0x1d8),'XYfik':_0x1a6d4b(0x1cf)},_0x18a5b0=uuid(),_0x597007=_0x585b54[_0x1a6d4b(0x23b)](getUID,_0x570569),_0x1f8ca1=uuid(),_0x5ae386=uuid(),_0x584887=Date[_0x1a6d4b(0x1b6)](),_0x1fb8fb=_0x585b54[_0x1a6d4b(0x200)](uuid),_0x43efa9=pick(CONFIG[_0x1a6d4b(0x231)]),_0x5ae343=_0x585b54['imQQt'](pick,CONFIG[_0x1a6d4b(0x21e)]),_0x1ee1a4=pick(CONFIG[_0x1a6d4b(0x17f)]),_0x22b51c=_0x585b54[_0x1a6d4b(0x206)](pick,CONFIG['TOUCHES']),_0x359cb6=pick(CONFIG[_0x1a6d4b(0x240)]),_0x4e00e6=_0x1f93bd[_0x1a6d4b(0x167)]||_0x585b54[_0x1a6d4b(0x218)],_0x5c3abc=CONFIG[_0x1a6d4b(0x237)][_0x4e00e6]||CONFIG['MODELS'][_0x585b54['WQtwN']];let _0x32fcc='';if(_0x1f93bd[_0x1a6d4b(0x1c6)]&&_0x1f93bd[_0x1a6d4b(0x1c6)][_0x1a6d4b(0x22d)]){const _0x2bbf8d=_0x1f93bd['messages'][_0x585b54[_0x1a6d4b(0x20b)](_0x1f93bd[_0x1a6d4b(0x1c6)]['length'],0x1)];if(_0x585b54[_0x1a6d4b(0x203)](typeof _0x2bbf8d[_0x1a6d4b(0x1ab)],_0x1a6d4b(0x168)))_0x32fcc=_0x2bbf8d[_0x1a6d4b(0x1ab)];else{if(Array[_0x1a6d4b(0x1d6)](_0x2bbf8d[_0x1a6d4b(0x1ab)]))_0x32fcc=_0x2bbf8d[_0x1a6d4b(0x1ab)][_0x1a6d4b(0x1d3)](_0x5a912e=>_0x5a912e[_0x1a6d4b(0x1c2)]===_0x1a6d4b(0x1a6))[_0x1a6d4b(0x239)](_0x32459b=>_0x32459b['text'])[_0x1a6d4b(0x161)]('\x0a');}}if(!_0x32fcc)_0x32fcc=_0x1f93bd[_0x1a6d4b(0x1a1)]||_0x585b54[_0x1a6d4b(0x16a)];const _0x487f2a=_0x1a6d4b(0x174)+_0x1fb8fb+_0x1a6d4b(0x221)+_0x584887+_0x1a6d4b(0x1a0)+_0x597007,{sig:_0x57bc87}=await _0x585b54[_0x1a6d4b(0x17a)](sign,_0x487f2a,_0x32fcc,_0x584887),_0x7fe3c9=buildParams(_0x584887,_0x1fb8fb,_0x597007,_0x570569,_0x18a5b0,_0x43efa9,_0x5ae343,_0x1ee1a4,_0x22b51c,_0x359cb6),_0x162df1=new URLSearchParams(_0x7fe3c9)[_0x1a6d4b(0x187)](),_0x507ec4=CONFIG[_0x1a6d4b(0x1a5)]+'?'+_0x162df1,_0x14e4a9=await _0x585b54['VNUBz'](getFE),_0x29f7b3=getChromeV(_0x43efa9),_0x387792=_0x585b54[_0x1a6d4b(0x206)](getPlatform,_0x43efa9),_0x56fb11={'Content-Type':_0x1a6d4b(0x17c),'Accept':_0x585b54[_0x1a6d4b(0x201)],'Authorization':_0x1a6d4b(0x1f3)+_0x570569,'User-Agent':_0x43efa9,'Origin':_0x585b54[_0x1a6d4b(0x1af)],'Referer':'https://chat.z.ai/c/'+_0x18a5b0,'X-FE-Version':_0x14e4a9,'X-Signature':_0x57bc87,'Accept-Language':_0x585b54[_0x1a6d4b(0x197)],'sec-ch-ua':_0x1a6d4b(0x1f8)+_0x29f7b3+_0x1a6d4b(0x180)+_0x29f7b3+'\x22,\x22Not_A\x20Brand\x22;v=\x2299\x22','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x387792},_0x1d457a=new Date(),_0x48caa5=[_0x1a6d4b(0x189),_0x585b54['NJTKu'],_0x585b54[_0x1a6d4b(0x162)],_0x585b54[_0x1a6d4b(0x214)],_0x1a6d4b(0x166),_0x585b54[_0x1a6d4b(0x1c0)],_0x1a6d4b(0x1cc)],_0x5a5a12={'stream':!![],'model':_0x5c3abc[_0x1a6d4b(0x207)],'messages':[{'role':_0x1a6d4b(0x177),'content':_0x32fcc}],'signature_prompt':_0x32fcc,'params':{},'features':{'image_generation':![],'web_search':_0x5c3abc[_0x1a6d4b(0x17b)],'auto_web_search':_0x5c3abc[_0x1a6d4b(0x17b)],'preview_mode':_0x5c3abc[_0x1a6d4b(0x17b)],'flags':[],'enable_thinking':!![]},'variables':{'{{USER_NAME}}':_0x1a6d4b(0x223)+_0x584887,'{{USER_LOCATION}}':_0x1a6d4b(0x22f),'{{CURRENT_DATETIME}}':_0x1d457a[_0x1a6d4b(0x1f7)](_0x1a6d4b(0x1cf),{'timeZone':_0x359cb6['n']}),'{{CURRENT_DATE}}':_0x1d457a[_0x1a6d4b(0x163)](_0x1a6d4b(0x1cf),{'timeZone':_0x359cb6['n']}),'{{CURRENT_TIME}}':_0x1d457a['toLocaleTimeString']('zh-CN',{'timeZone':_0x359cb6['n']}),'{{CURRENT_WEEKDAY}}':_0x48caa5[_0x1d457a[_0x1a6d4b(0x1ec)]()],'{{CURRENT_TIMEZONE}}':_0x359cb6['n'],'{{USER_LANGUAGE}}':_0x585b54['XYfik']},'chat_id':_0x18a5b0,'id':_0x1f8ca1,'current_user_message_id':_0x5ae386,'current_user_message_parent_id':null,'background_tasks':{'title_generation':![],'tags_generation':![]}};return{'url':_0x507ec4,'headers':_0x56fb11,'body':_0x5a5a12};}async function streamResp(_0x154230){const _0xb3bdf7=_0x0_0x597ca4,_0x1e42ec={'hoEVL':_0xb3bdf7(0x1e8),'BNIVv':_0xb3bdf7(0x1a8),'drfDe':function(_0x19b6fb){return _0x19b6fb();},'rMOpr':function(_0x21c4ac,_0x1f89f9){return _0x21c4ac/_0x1f89f9;},'VHfWo':_0xb3bdf7(0x1c5),'cFPgN':_0xb3bdf7(0x1e5)},{readable:_0x3d6051,writable:_0x463f65}=new TransformStream(),_0x4d27b9=_0x463f65[_0xb3bdf7(0x209)](),_0x18683e=new TextEncoder();return((async()=>{const _0xcc191b=_0xb3bdf7;try{const _0x2e7a7f=_0x154230[_0xcc191b(0x244)][_0xcc191b(0x18d)](),_0x434502=new TextDecoder();let _0x1a07e8='';while(!![]){const {done:_0x115938,value:_0x173a3b}=await _0x2e7a7f[_0xcc191b(0x1d2)]();if(_0x115938)break;_0x1a07e8+=_0x434502[_0xcc191b(0x1fd)](_0x173a3b,{'stream':!![]});const _0x1b3669=_0x1a07e8[_0xcc191b(0x21c)]('\x0a');_0x1a07e8=_0x1b3669[_0xcc191b(0x169)]()||'';for(const _0x5308fa of _0x1b3669){if(!_0x5308fa[_0xcc191b(0x1ad)]()||!_0x5308fa[_0xcc191b(0x21d)]('data:'))continue;const _0x8e671b=_0x5308fa['slice'](0x5)['trim']();if(!_0x8e671b||_0x8e671b===_0xcc191b(0x198))continue;try{const _0x4f100e=JSON[_0xcc191b(0x205)](_0x8e671b);if(_0x4f100e[_0xcc191b(0x1c2)]===_0xcc191b(0x1d5)){const _0x30c555=_0x4f100e[_0xcc191b(0x194)]||{};if(_0x30c555[_0xcc191b(0x1b8)]==='answer'&&_0x30c555[_0xcc191b(0x1f9)]){const _0xf30a19={'id':_0xcc191b(0x1ed)+uuid(),'object':_0x1e42ec[_0xcc191b(0x164)],'created':Math['floor'](Date[_0xcc191b(0x1b6)]()/0x3e8),'model':_0x1e42ec[_0xcc191b(0x1b0)],'choices':[{'index':0x0,'delta':{'content':_0x30c555[_0xcc191b(0x1f9)]},'finish_reason':null}]};await _0x4d27b9[_0xcc191b(0x18c)](_0x18683e[_0xcc191b(0x1c4)]('data:\x20'+JSON[_0xcc191b(0x1f0)](_0xf30a19)+'\x0a\x0a'));}if(_0x30c555[_0xcc191b(0x196)]){const _0x3d1bd3={'id':_0xcc191b(0x1ed)+_0x1e42ec[_0xcc191b(0x1f6)](uuid),'object':_0xcc191b(0x1e8),'created':Math[_0xcc191b(0x242)](_0x1e42ec['rMOpr'](Date[_0xcc191b(0x1b6)](),0x3e8)),'model':_0xcc191b(0x1a8),'choices':[{'index':0x0,'delta':{},'finish_reason':_0xcc191b(0x17e)}],'usage':_0x30c555[_0xcc191b(0x196)]};await _0x4d27b9[_0xcc191b(0x18c)](_0x18683e[_0xcc191b(0x1c4)](_0xcc191b(0x22c)+JSON[_0xcc191b(0x1f0)](_0x3d1bd3)+'\x0a\x0a')),await _0x4d27b9[_0xcc191b(0x18c)](_0x18683e[_0xcc191b(0x1c4)](_0x1e42ec[_0xcc191b(0x190)]));return;}}}catch(_0x296de2){}}}await _0x4d27b9[_0xcc191b(0x18c)](_0x18683e['encode'](_0xcc191b(0x1c5)));}catch(_0x5c70d2){try{const _0x3688b2={'error':{'message':_0x5c70d2[_0xcc191b(0x22b)]||_0xcc191b(0x1ba),'type':_0x1e42ec['cFPgN']}};await _0x4d27b9['write'](_0x18683e[_0xcc191b(0x1c4)](_0xcc191b(0x22c)+JSON[_0xcc191b(0x1f0)](_0x3688b2)+'\x0a\x0a')),await _0x4d27b9[_0xcc191b(0x18c)](_0x18683e[_0xcc191b(0x1c4)](_0x1e42ec[_0xcc191b(0x190)]));}catch{}}finally{try{await _0x4d27b9[_0xcc191b(0x227)]();}catch{}}})()),_0x3d6051;}async function handleReq(_0x338294){const _0x33cbe3=_0x0_0x597ca4,_0x21ff2c={'hHJeF':_0x33cbe3(0x1cd),'uURgc':function(_0x2a6f1b,_0x10e6a8){return _0x2a6f1b===_0x10e6a8;},'cJhUA':_0x33cbe3(0x1e1),'obzqR':_0x33cbe3(0x1bc),'ZKgSW':'list','omGfG':function(_0x9b9818,_0x2549b9){return _0x9b9818===_0x2549b9;},'SSBdM':_0x33cbe3(0x1ea),'LnhqE':function(_0x184b15){return _0x184b15();},'NIUGP':_0x33cbe3(0x23d),'PskQn':_0x33cbe3(0x213),'dGQrp':_0x33cbe3(0x217),'WkmwF':function(_0x29b8f3,_0x1df07f){return _0x29b8f3===_0x1df07f;},'glflD':_0x33cbe3(0x1d5),'eEMsn':function(_0x1d7f50){return _0x1d7f50();},'fbtzz':_0x33cbe3(0x179),'RySfX':_0x33cbe3(0x1a8),'iKRTA':_0x33cbe3(0x238),'CgCYe':_0x33cbe3(0x17c),'NqFNh':'请求失败','vEriY':'Not\x20Found'},_0x4506ab=new URL(_0x338294[_0x33cbe3(0x1a2)]);if(_0x338294[_0x33cbe3(0x186)]===_0x33cbe3(0x1b4))return new Response(null,{'headers':{'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':_0x21ff2c[_0x33cbe3(0x19e)],'Access-Control-Allow-Headers':_0x33cbe3(0x1df),'Access-Control-Max-Age':'86400'}});if(_0x4506ab[_0x33cbe3(0x225)]==='/'||_0x21ff2c[_0x33cbe3(0x1eb)](_0x4506ab['pathname'],_0x21ff2c[_0x33cbe3(0x23e)]))return new Response(JSON['stringify']({'service':CONFIG[_0x33cbe3(0x1e2)],'version':CONFIG[_0x33cbe3(0x23a)],'status':'ok','models':Object[_0x33cbe3(0x1f4)](CONFIG['MODELS'])}),{'headers':{'Content-Type':_0x33cbe3(0x17c),'Access-Control-Allow-Origin':'*'}});if(_0x4506ab[_0x33cbe3(0x225)]===_0x21ff2c[_0x33cbe3(0x1e0)]){const _0x3d0905=Object[_0x33cbe3(0x1f4)](CONFIG[_0x33cbe3(0x237)])[_0x33cbe3(0x239)]((_0xfe2071,_0x4c3853)=>({'id':_0xfe2071,'object':_0x33cbe3(0x167),'created':Math[_0x33cbe3(0x242)](Date['now']()/0x3e8)-_0x4c3853*0x3e8,'owned_by':_0x33cbe3(0x192)}));return new Response(JSON[_0x33cbe3(0x1f0)]({'object':_0x21ff2c[_0x33cbe3(0x229)],'data':_0x3d0905}),{'headers':{'Content-Type':_0x33cbe3(0x17c),'Access-Control-Allow-Origin':'*'}});}if(_0x21ff2c[_0x33cbe3(0x21b)](_0x4506ab['pathname'],'/v1/chat/completions')&&_0x338294[_0x33cbe3(0x186)]===_0x21ff2c[_0x33cbe3(0x16f)])try{const _0x3106f2=await _0x338294[_0x33cbe3(0x188)](),_0x596961=await _0x21ff2c[_0x33cbe3(0x175)](getToken);if(!_0x596961)return new Response(JSON[_0x33cbe3(0x1f0)]({'error':{'message':_0x21ff2c['NIUGP'],'type':_0x21ff2c['PskQn']}}),{'status':0x1f4,'headers':{'Content-Type':_0x33cbe3(0x17c),'Access-Control-Allow-Origin':'*'}});const {url:_0x43648a,headers:_0x31d329,body:_0x429cad}=await transform(_0x3106f2,_0x596961),_0x127f51=await fetch(_0x43648a,{'method':_0x33cbe3(0x1ea),'headers':_0x31d329,'body':JSON[_0x33cbe3(0x1f0)](_0x429cad)});if(!_0x127f51['ok']){const _0x2f9b8a=await _0x127f51['text']();return new Response(JSON[_0x33cbe3(0x1f0)]({'error':{'message':_0x33cbe3(0x1bb)+_0x127f51['status'],'type':_0x33cbe3(0x212),'details':_0x2f9b8a}}),{'status':_0x127f51[_0x33cbe3(0x183)],'headers':{'Content-Type':_0x33cbe3(0x17c),'Access-Control-Allow-Origin':'*'}});}if(_0x3106f2[_0x33cbe3(0x1ee)]!==![]){const _0x2dba90=await streamResp(_0x127f51);return new Response(_0x2dba90,{'headers':{'Content-Type':'text/event-stream','Cache-Control':_0x33cbe3(0x1ff),'Connection':_0x21ff2c[_0x33cbe3(0x1dc)],'Access-Control-Allow-Origin':'*'}});}const _0x552103=_0x127f51[_0x33cbe3(0x244)][_0x33cbe3(0x18d)](),_0xa23757=new TextDecoder();let _0x20527c='',_0x4259bd='',_0x13e045=null;while(!![]){const {done:_0x22c767,value:_0x52f60a}=await _0x552103[_0x33cbe3(0x1d2)]();if(_0x22c767)break;_0x20527c+=_0xa23757[_0x33cbe3(0x1fd)](_0x52f60a,{'stream':!![]});const _0xf52d86=_0x20527c[_0x33cbe3(0x21c)]('\x0a');_0x20527c=_0xf52d86[_0x33cbe3(0x169)]()||'';for(const _0x44d43d of _0xf52d86){if(!_0x44d43d[_0x33cbe3(0x1ad)]()||!_0x44d43d[_0x33cbe3(0x21d)](_0x33cbe3(0x248)))continue;const _0x27d27a=_0x44d43d[_0x33cbe3(0x17d)](0x5)[_0x33cbe3(0x1ad)]();if(!_0x27d27a||_0x21ff2c[_0x33cbe3(0x1c9)](_0x27d27a,_0x33cbe3(0x198)))continue;try{const _0x510730=JSON['parse'](_0x27d27a);if(_0x510730[_0x33cbe3(0x1c2)]===_0x21ff2c[_0x33cbe3(0x1fe)]){const _0x56cb8c=_0x510730[_0x33cbe3(0x194)]||{};if(_0x56cb8c[_0x33cbe3(0x1b8)]===_0x33cbe3(0x202)&&_0x56cb8c[_0x33cbe3(0x1f9)])_0x4259bd+=_0x56cb8c[_0x33cbe3(0x1f9)];if(_0x56cb8c[_0x33cbe3(0x196)])_0x13e045=_0x56cb8c['usage'];}}catch{}}}return new Response(JSON[_0x33cbe3(0x1f0)]({'id':'chatcmpl-'+_0x21ff2c[_0x33cbe3(0x1cb)](uuid),'object':_0x21ff2c[_0x33cbe3(0x234)],'created':Math[_0x33cbe3(0x242)](Date[_0x33cbe3(0x1b6)]()/0x3e8),'model':_0x21ff2c[_0x33cbe3(0x21f)],'choices':[{'index':0x0,'message':{'role':_0x21ff2c[_0x33cbe3(0x1fc)],'content':_0x4259bd},'finish_reason':'stop'}],'usage':_0x13e045||{'prompt_tokens':0x0,'completion_tokens':0x0,'total_tokens':0x0}}),{'headers':{'Content-Type':_0x21ff2c[_0x33cbe3(0x1b2)],'Access-Control-Allow-Origin':'*'}});}catch(_0x3520fc){return new Response(JSON[_0x33cbe3(0x1f0)]({'error':{'message':_0x3520fc[_0x33cbe3(0x22b)]||_0x21ff2c['NqFNh'],'type':'internal_error'}}),{'status':0x1f4,'headers':{'Content-Type':_0x21ff2c[_0x33cbe3(0x1b2)],'Access-Control-Allow-Origin':'*'}});}return new Response(_0x21ff2c[_0x33cbe3(0x1ef)],{'status':0x194});}export default{async 'fetch'(_0x4aa662){const _0x39c6c4=_0x0_0x597ca4,_0x59f3bb={'qoHws':function(_0x4b8ffb,_0x1b5a11){return _0x4b8ffb(_0x1b5a11);}};return _0x59f3bb[_0x39c6c4(0x1be)](handleReq,_0x4aa662);}};
